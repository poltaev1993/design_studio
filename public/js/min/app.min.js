function hrAlignment(e,i,t){var n,s,o,r,a=i.position().top,l=i.closest(t);e.each(function(){var e=$(this);n=e.position().top,s=e.closest(t).position().top,o=a+l.position().top-n,r=toPercent(o,$(window).outerHeight()),e.closest(t).css("top",r+"%")})}function toPercent(e,i){return 100*e/i}function getHash(){return location.hash}function setHash(e){location.hash=e}function getNextSection(e){return void 0===$(e).next().attr("id")?($("#next_section").addClass("turn_off"),"section10"):($(".arrow").removeClass("turn_off"),$(e).next().attr("id"))}function getPrevSection(e){return void 0===$(e).prev().attr("id")?($("#prev_section").addClass("turn_off"),"section1"):($(".arrow").removeClass("turn_off"),$(e).prev().attr("id"))}function goToHashSection(e,i){var t=$(e).innerHeight();$("html, body").animate({scrollTop:t},300),$("html, body").stop().animate({scrollTop:t},900,"swing",function(){console.log("lol")});var n=+cut(e,0,7);"down"===i?($(e).find(".block-abs").css({bottom:"auto",top:"100%",opacity:0,transform:"translateY(-50%)"}),$(e).find(".block-abs").animate({top:"50%",opacity:1,transform:"translateY(-50%)"},{duration:750,queue:!1}),setTimeout(function(){$(".set_logo__js").stop().animate({top:$(e).find(".block-abs").position().top-70})},751),$(".left-sections").stop().animate({scrollTop:(n-1)*t},1200)):($(e).find(".block-abs").css({top:"auto",bottom:"100%",opacity:0,transform:"translateY(50%)"}),$(e).find(".block-abs").animate({bottom:"50%",opacity:1,transform:"translateY(50%)"},{duration:750,queue:!1}),setTimeout(function(){$(".set_logo__js").stop().animate({top:$(e).find(".block-abs").position().top-70})},751),t=$(e).offset().top,$(".left-sections").stop().animate({scrollTop:-1*(n-1)*t},1200)),setHash(e),$(".select_item_menu__js").find("a").removeClass("active"),$(".select_item_menu__js").find('a[href="'+cut(e,0,0)+'"]').addClass("active")}function cut(e,i,t){return e.substr(0,i)+e.substr(t+1)}function init(){myMap=new ymaps.Map("map",{center:[43.235134,76.92245],zoom:15}),myPlacemark=new ymaps.Placemark([43.235134,76.92245],{content:"inStudio!",balloonContent:"г. Алматы, ул. Сатпаева 30а/1. офис 86график работы: 9:00-19:00 пн/птМы всегда рады помочь Вам!"}),myMap.geoObjects.add(myPlacemark)}function setMap(){var e=$("#map"),i=$("#main_swiper_slider__js").innerHeight(),t=$("#section10").innerWidth();e.height(i),e.width(t)}function detectswipe(e,i){swipe_det=new Object,swipe_det.sX=0,swipe_det.sY=0,swipe_det.eX=0,swipe_det.eY=0;var t=20,n=40,s=40,o=50,r="";ele=document.getElementById(e),ele.addEventListener("touchstart",function(e){var i=e.touches[0];swipe_det.sX=i.screenX,swipe_det.sY=i.screenY},!1),ele.addEventListener("touchmove",function(e){e.preventDefault();var i=e.touches[0];swipe_det.eX=i.screenX,swipe_det.eY=i.screenY},!1),ele.addEventListener("touchend",function(){(swipe_det.eX-t>swipe_det.sX||swipe_det.eX+t<swipe_det.sX)&&swipe_det.eY<swipe_det.sY+o&&swipe_det.sY>swipe_det.eY-o&&(r=swipe_det.eX>swipe_det.sX?"r":"l"),(swipe_det.eY-s>swipe_det.sY||swipe_det.eY+s<swipe_det.sY)&&swipe_det.eX<swipe_det.sX+n&&swipe_det.sX>swipe_det.eX-n&&(r=swipe_det.eY>swipe_det.sY?"d":"u"),""!=r&&"function"==typeof i&&i(e,r),r=""},!1)}function setMaxHeight(e){var i=e.innerHeight();$.each(e,function(){i<$(this).innerHeight()&&(i=$(this).innerHeight())}),e.innerHeight(i)}function myfunction(e,i){if("d"==i){var t=getHash(),n=getPrevSection(t);goToHashSection("#"+n,"up")}else if("u"==i){var t=getHash(),n=getNextSection(t);goToHashSection("#"+n,"down")}}$(document).ready(function(){function e(){var e=$(window).width();a.destroy(),e>=1e3&&(a.params.slidesPerView=4,d.params.slidesPerView=4),e>0&&1e3>e&&(a.params.slidesPerView=1,d.params.slidesPerView=1),a=new Swiper("#team_swiper_slider__js",r),d=new Swiper("#reviews_swiper_slider__js",c)}$(".loader").hide();var i=!1;if(setMaxHeight($(".answer_question").find(".block-item")),$(".perfect_scroll_init_js").perfectScrollbar(),$(".info__js").on("click",function(e){e.stopPropagation(),$(this).hasClass("clicked")?($(".left-nav-bar").removeClass("show"),$("body").css("background-color","#fff"),$(this).removeClass("clicked")):($(".left-nav-bar").addClass("show"),$("body").css("background-color","#3A3737"),$(this).addClass("clicked"))}),$(".burger__js").on("click",function(e){e.stopPropagation(),$(this).hasClass("clicked")?($(".right-nav-bar").removeClass("show"),$("body").css("background-color","#fff"),$(this).removeClass("clicked")):($(".right-nav-bar").addClass("show"),$("body").css("background-color","#3A3737"),$(this).addClass("clicked"))}),$("body").on("click",function(){$(".left-nav-bar").removeClass("show"),$(".right-nav-bar").removeClass("show"),$(".info__js, burger__js").removeClass("clicked"),$("body").css("background-color","#fff")}),$(".fullvideo_effect__js").length>0){var t=new $.BigVideo({useFlashForFirefox:!0,forceAutoplay:!1,controls:!1,doLoop:!1,container:$("body"),shrinkable:!1});t.init(),$("#big-video-vid_html5_api").prop("volume",0),$(".menu-list").find("a").on("mouseover",function(e){e.preventDefault(),t.show($(this).data("videoHref")),autoHide(!0),isShowingPlaylist=!0})}if($(window).on("load",function(){$(".loader").show()}),setTimeout(function(){$(".loader").hide()},100),$(".set_logo__js").css("top",$("#section1").find(".block-abs").position().top-30),$(".md-trigger").on("click",function(){i=!0}),$(".md-overlay, .md-close").on("click",function(){i=!1}),$(".next-modal").on("click",function(){var e=$(this).closest(".md-modal").data("modalCategory"),t=$(".md-show").next().data("modalCategory");e==t?($(".md-show").removeClass("md-show").next().addClass("md-show"),i=!0):($(".md-show").removeClass("md-show"),i=!1)}),$(".prev-modal").on("click",function(){var e=$(this).closest(".md-modal").data("modalCategory"),t=$(".md-show").prev().data("modalCategory");e==t?($(".md-show").removeClass("md-show").prev().addClass("md-show"),i=!0):($(".md-show").removeClass("md-show"),i=!1)}),hrAlignment($(".left-line__js"),$(".right-line"),".wrapper-block"),$("#main_swiper_slider__js").length>0){var n=new Swiper("#main_swiper_slider__js",{slidesPerView:1,spaceBetween:0,direction:"horizontal",pagination:"#main_swiper_slider__js .swiper-pagination",speed:700,effect:"coverflow",simulateTouch:!1,coverflow:{rotate:50,stretch:0,depth:100,modifier:1,simulateTouch:!1}}),s=new Swiper("#mini_main_slider",{slidesPerView:3,spaceBetween:10,centeredSlides:!0,direction:"horizontal",autoplay:3e3}),o=new Swiper("#main_titles_slider",{slidesPerView:1,spaceBetween:0,direction:"horizontal",simulateTouch:!1});s.on("slideChangeStart",function(){o.slideTo(s.activeIndex),n.slideTo(s.activeIndex)}),$("#mini_main_slider").find(".swiper-slide").on("click",function(){s.slideTo($(this).index())})}var r;if($("#team_swiper_slider__js").length>0){r={slidesPerView:4,spaceBetween:30,direction:"horizontal",speed:700,pagination:"#team_swiper_slider__js .swiper-pagination",nextButton:"#team_swiper_slider__js .swiper-button-next",prevButton:"#team_swiper_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(e,i){return'<span class="'+i+'">'+(e+1)+"</span>"}};var a=new Swiper("#team_swiper_slider__js",r)}$(".certain-swiper-slider").each(function(){new Swiper($(this),{slidesPerView:1,spaceBetween:0,spaceBetween:30,direction:"horizontal",pagination:$(this).find(".swiper-pagination"),paginationClickable:!0,paginationBulletRender:function(e,i){return'<span class="'+i+'">'+(e+1)+"</span>"}})});var l=0,p=new Swiper("#project_swiper_slider__js",{slidesPerView:2,slidesPerColumn:2,spaceBetween:20,direction:"horizontal",speed:700,nextButton:"#project_swiper_slider__js .swiper-button-next",prevButton:"#project_swiper_slider__js .swiper-button-prev",pagination:"#project_swiper_slider__js .swiper-pagination",paginationClickable:!0,paginationBulletRender:function(e,i){var t="";return 0==e&&(l=0),e%2==0&&(t='<span class="'+i+'">'+ ++l+"</span>"),t}}),p=new Swiper("#processes_swiper_slider__js",{slidesPerView:1,slidesPerColumn:1,spaceBetween:20,direction:"horizontal",speed:700,nextButton:"#processes_swiper_slider__js .swiper-button-next",prevButton:"#processes_swiper_slider__js .swiper-button-prev",pagination:"#processes_swiper_slider__js .swiper-pagination",paginationClickable:!0,paginationBulletRender:function(e,i){var t="";return t='<span class="'+i+'">'+(e+1)+"</span>"}});"Logo"==$.trim($(".slogan").text())&&(console.log(p),p=new Swiper("#project_swiper_slider__js",{slidesPerView:4,slidesPerColumn:2,spaceBetween:20,direction:"horizontal",speed:700,nextButton:"#project_swiper_slider__js .swiper-button-next",prevButton:"#project_swiper_slider__js .swiper-button-prev",pagination:"#project_swiper_slider__js .swiper-pagination",paginationClickable:!0,paginationBulletRender:function(e,i){var t="";return 0==e&&(l=0),e%2==0&&(t='<span class="'+i+'">'+ ++l+"</span>"),t}}));var c={slidesPerView:4,spaceBetween:30,direction:"horizontal",loop:!1,speed:700,pagination:"#reviews_swiper_slider__js .swiper-pagination",nextButton:"#reviews_swiper_slider__js .swiper-button-next",prevButton:"#reviews_swiper_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(e,i){var t="";return t='<span class="'+i+'">'+(e+1)+"</span>"}},d=new Swiper("#reviews_swiper_slider__js",c);new Swiper("#question_and_answer_swiper_slider__js",{slidesPerView:1,spaceBetween:30,direction:"horizontal",loop:!1,speed:700,pagination:"#question_and_answer_swiper_slider__js .swiper-pagination",nextButton:"#question_and_answer_swiper_slider__js .swiper-button-next",prevButton:"#question_and_answer_swiper_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(e,i){var t='<span class="'+i+'">'+ ++e+"</span>";return t}}),new Swiper("#blog_slider__js",{slidesPerView:1,spaceBetween:30,direction:"horizontal",loop:!1,speed:!1,pagination:"#blog_slider__js .swiper-pagination",nextButton:"#blog_slider__js .swiper-button-next",prevButton:"#blog_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(e,i){var t='<span class="'+i+'">'+ ++e+"</span>";return t}}),new Swiper("#partners_slider__js",{slidesPerView:1,spaceBetween:30,direction:"horizontal",loop:!1,speed:700,pagination:"#partners_slider__js .swiper-pagination",nextButton:"#partners_slider__js .swiper-button-next",prevButton:"#partners_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(e,i){var t='<span class="'+i+'">'+ ++e+"</span>";return t}});$(".select_item_menu__js").find("a").on("click",function(e){e.preventDefault();var i=$(this),t=i.attr("href");setHash(t),goToHashSection("#"+t,"down")});var _=($(window).innerHeight(),"#section1");setHash(_),goToHashSection(_,"down"),$(document).on("mousewheel",function(e){if(!i){var t=getHash();if(e.originalEvent.wheelDelta/120>0){var n=getPrevSection(t);goToHashSection("#"+n,"up")}else{var n=getNextSection(t);goToHashSection("#"+n,"down")}}}),detectswipe("bodyID",myfunction),$("#prev_section").on("click",function(){var e=getHash(),i=getPrevSection(e);goToHashSection("#"+i,"up")}),$("#next_section").on("click",function(){var e=getHash(),i=getNextSection(e);goToHashSection("#"+i,"down")}),$(".team_buttons").find(".swiper-button-prev").on("click",function(){mySwiper1.slideNext()}),$(".team_buttons").find(".swiper-button-next").on("click",function(){mySwiper1.slidePrev()}),$(".review_buttons").find(".swiper-button-prev").on("click",function(){w.slideNext()}),$(".review_buttons").find(".swiper-button-next").on("click",function(){w.slidePrev()});var w=new Swiper("#review_slider",{slidesPerView:5,spaceBetween:30,direction:"horizontal",loop:!1});Page.init(),$("#dg-container").gallery({autoplay:!0,interval:3e3});var u;$(".swiper-block__js").hover(function(){u=$(this).find(".dropdown"),u.css("height","auto");var e=u.innerHeight();u.css("height","0"),u.animate({height:e},350)},function(){u.animate({height:0},350)}),e(),$("#map").length&&(setMap(),ymaps.ready(init)),$(window).resize(function(){e(),$("#map").length&&(setMap(),ymaps.ready(init))})});var Page=function(){var e=$("#nav-arrows").hide(),i=$("#sb-slider").slicebox({onReady:function(){e.show()},orientation:"r",cuboidsRandom:!0,disperseFactor:30,autoplay:!0,interval:5e3}),t=function(){n()},n=function(){e.children(":first").on("click",function(){return i.next(),!1}),e.children(":last").on("click",function(){return i.previous(),!1})};return{init:t}}();
