function hrAlignment($leftLines,$rightLine,parent){var thisLeftLinePos,parentTopPos,diff,shift,rightLineTopPos=$rightLine.position().top,rightParent=$rightLine.closest(parent);$leftLines.each(function(){var th=$(this);thisLeftLinePos=th.position().top,parentTopPos=th.closest(parent).position().top,diff=rightLineTopPos+rightParent.position().top-thisLeftLinePos,shift=toPercent(diff,$(window).outerHeight()),th.closest(parent).css("top",shift+"%")})}function toPercent(value,fullVal){return 100*value/fullVal}function getHash(){return location.hash}function setHash(hashName){location.hash=hashName}function getNextSection(section){return void 0===$(section).next().attr("id")?($("#next_section").addClass("turn_off"),"section11"):($(".arrow").removeClass("turn_off"),$(section).next().attr("id"))}function getPrevSection(section){return void 0===$(section).prev().attr("id")?($("#prev_section").addClass("turn_off"),"section0"):($(".arrow").removeClass("turn_off"),$(section).prev().attr("id"))}function goToHashSection(section,direction){var positionOfSection=$(section).innerHeight();$("html, body").animate({scrollTop:positionOfSection},300),$("html, body").stop().animate({scrollTop:positionOfSection},900,"swing",function(){});var num=+cut(section,0,7);if("down"===direction){if("#section11"===section)return;$(section).find(".block-abs").css({bottom:"auto",top:"100%",opacity:0,transform:"translateY(-50%)"}),$(section).find(".block-abs").animate({top:"50%",opacity:1,transform:"translateY(-50%)"},{duration:750,queue:!1}),$(".left-sections").stop().animate({scrollTop:(num-1)*positionOfSection},1200)}else{if("#section0"===section)return;$(section).find(".block-abs").css({top:"auto",bottom:"100%",opacity:0,transform:"translateY(50%)"}),$(section).find(".block-abs").animate({bottom:"50%",opacity:1,transform:"translateY(50%)"},{duration:750,queue:!1}),positionOfSection=$(section).innerHeight(),console.log((num-1)*positionOfSection),$(".left-sections").stop().animate({scrollTop:(num-1)*positionOfSection},1200)}setHash(section),setTimeout(function(){$(".set_logo__js").css("top",$(section).find(".block-abs").offset().top/2-20)},751),$(".select_item_menu__js").find("a").removeClass("active"),$(".select_item_menu__js").find('a[href="'+cut(section,0,0)+'"]').addClass("active")}function cut(line,start,end){return line.substr(0,start)+line.substr(end+1)}function init(){myMap=new ymaps.Map("map",{center:[43.235134,76.92245],zoom:15}),myPlacemark=new ymaps.Placemark([43.235134,76.92245],{content:"inStudio!",balloonContent:"г. Алматы, ул. Сатпаева 30а/1. офис 86график работы: 9:00-19:00 пн/птМы всегда рады помочь Вам!"}),myMap.geoObjects.add(myPlacemark)}function setMap(){var $map=$("#map"),mapHeight=$("#main_swiper_slider__js").innerHeight(),mapWidth=$("#section10").innerWidth();$map.height(mapHeight),$map.width(mapWidth)}function detectswipe(el,func){swipe_det=new Object,swipe_det.sX=0,swipe_det.sY=0,swipe_det.eX=0,swipe_det.eY=0;var min_x=20,max_x=40,min_y=40,max_y=50,direc="";ele=document.getElementById(el),ele.addEventListener("touchstart",function(e){var t=e.touches[0];swipe_det.sX=t.screenX,swipe_det.sY=t.screenY},!1),ele.addEventListener("touchmove",function(e){e.preventDefault();var t=e.touches[0];swipe_det.eX=t.screenX,swipe_det.eY=t.screenY},!1),ele.addEventListener("touchend",function(){(swipe_det.eX-min_x>swipe_det.sX||swipe_det.eX+min_x<swipe_det.sX)&&swipe_det.eY<swipe_det.sY+max_y&&swipe_det.sY>swipe_det.eY-max_y&&(direc=swipe_det.eX>swipe_det.sX?"r":"l"),(swipe_det.eY-min_y>swipe_det.sY||swipe_det.eY+min_y<swipe_det.sY)&&swipe_det.eX<swipe_det.sX+max_x&&swipe_det.sX>swipe_det.eX-max_x&&(direc=swipe_det.eY>swipe_det.sY?"d":"u"),""!=direc&&"function"==typeof func&&func(el,direc),direc=""},!1)}function setMaxHeight(el){var max=el.innerHeight();$.each(el,function(){max<$(this).innerHeight()&&(max=$(this).innerHeight())}),el.innerHeight(max)}function myfunction(el,d){if("d"==d){var hash=getHash(),neededSection=getPrevSection(hash);goToHashSection("#"+neededSection,"up")}else if("u"==d){var hash=getHash(),neededSection=getNextSection(hash);goToHashSection("#"+neededSection,"down")}}$(document).ready(function(){function sliderWidthChanging(){var ww=$(window).width();teamSwiperSlider.destroy(),ww>=1e3&&(teamSwiperSlider.params.slidesPerView=4,reviwesSwiperSlider.params.slidesPerView=4),ww>0&&1e3>ww&&(teamSwiperSlider.params.slidesPerView=1,reviwesSwiperSlider.params.slidesPerView=1),teamSwiperSlider=new Swiper("#team_swiper_slider__js",teamSettings),reviwesSwiperSlider=new Swiper("#reviews_swiper_slider__js",reviewSettings)}$(".loader").hide();var isModalActive=!1;if(setMaxHeight($(".answer_question").find(".block-item")),$(".perfect_scroll_init_js").perfectScrollbar(),$(".info__js").on("click",function(e){e.stopPropagation(),$(this).hasClass("clicked")?($(".left-nav-bar").removeClass("show"),$("body").css("background-color","#fff"),$(this).removeClass("clicked")):($(".left-nav-bar").addClass("show"),$("body").css("background-color","#3A3737"),$(this).addClass("clicked"))}),$(".burger__js").on("click",function(e){e.stopPropagation(),$(this).hasClass("clicked")?($(".right-nav-bar").removeClass("show"),$("body").css("background-color","#fff"),$(this).removeClass("clicked")):($(".right-nav-bar").addClass("show"),$("body").css("background-color","#3A3737"),$(this).addClass("clicked"))}),$("body").on("click",function(){$(".left-nav-bar").removeClass("show"),$(".right-nav-bar").removeClass("show"),$(".info__js, burger__js").removeClass("clicked"),$("body").css("background-color","#fff")}),$(".fullvideo_effect__js").length>0){var BV=new $.BigVideo({useFlashForFirefox:!0,forceAutoplay:!1,controls:!1,doLoop:!1,container:$("body"),shrinkable:!1});BV.init(),$("#big-video-vid_html5_api").prop("volume",0),$(".menu-list").find("a").on("mouseover",function(e){e.preventDefault(),BV.show($(this).data("videoHref")),autoHide(!0),isShowingPlaylist=!0})}if($(window).on("load",function(){$(".loader").show()}),setTimeout(function(){$(".loader").hide()},100),$(".set_logo__js").css("top",$(".first-slider").offset().top/2-20),$(".md-trigger").on("click",function(){isModalActive=!0}),$(".md-overlay, .md-close").on("click",function(){isModalActive=!1}),$(".next-modal").on("click",function(){var category=$(this).closest(".md-modal").data("modalCategory"),nextCategory=$(".md-show").next().data("modalCategory");category==nextCategory?($(".md-show").removeClass("md-show").next().addClass("md-show"),isModalActive=!0):($(".md-show").removeClass("md-show"),isModalActive=!1)}),$(".prev-modal").on("click",function(){var category=$(this).closest(".md-modal").data("modalCategory"),prevCategory=$(".md-show").prev().data("modalCategory");category==prevCategory?($(".md-show").removeClass("md-show").prev().addClass("md-show"),isModalActive=!0):($(".md-show").removeClass("md-show"),isModalActive=!1)}),hrAlignment($(".left-line__js"),$(".right-line"),".wrapper-block"),$("#main_swiper_slider__js").length>0){new Swiper("#main_swiper_slider__js",{slidesPerView:1,spaceBetween:0,direction:"horizontal",pagination:".swp__js",paginationClickable:!0,speed:700,effect:"coverflow",simulateTouch:!1,autoplay:3e3,coverflow:{rotate:50,stretch:0,depth:100,modifier:1,simulateTouch:!1}}),new Swiper("#main_titles_slider",{slidesPerView:1,spaceBetween:0,direction:"horizontal",simulateTouch:!1})}var teamSettings;if($("#team_swiper_slider__js").length>0){teamSettings={slidesPerView:4,spaceBetween:30,direction:"horizontal",speed:700,pagination:"#team_swiper_slider__js .swiper-pagination",nextButton:"#team_swiper_slider__js .swiper-button-next",prevButton:"#team_swiper_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(index,className){return'<span class="'+className+'">'+(index+1)+"</span>"}};var teamSwiperSlider=new Swiper("#team_swiper_slider__js",teamSettings)}$(".certain-swiper-slider").each(function(){new Swiper($(this),{slidesPerView:1,spaceBetween:0,spaceBetween:30,direction:"horizontal",pagination:$(this).find(".swiper-pagination"),paginationClickable:!0,paginationBulletRender:function(index,className){return'<span class="'+className+'">'+(index+1)+"</span>"}})});var countPagination=0,projectSwiperSlider=new Swiper("#project_swiper_slider__js",{slidesPerView:2,slidesPerColumn:2,spaceBetween:20,direction:"horizontal",speed:700,nextButton:"#project_swiper_slider__js .swiper-button-next",prevButton:"#project_swiper_slider__js .swiper-button-prev",pagination:"#project_swiper_slider__js .swiper-pagination",paginationClickable:!0,paginationBulletRender:function(index,className){var line="";return 0==index&&(countPagination=0),index%2==0&&(line='<span class="'+className+'">'+ ++countPagination+"</span>"),line}}),projectSwiperSlider=new Swiper("#processes_swiper_slider__js",{slidesPerView:1,slidesPerColumn:1,spaceBetween:20,direction:"horizontal",speed:700,nextButton:"#processes_swiper_slider__js .swiper-button-next",prevButton:"#processes_swiper_slider__js .swiper-button-prev",pagination:"#processes_swiper_slider__js .swiper-pagination",paginationClickable:!0,paginationBulletRender:function(index,className){var line="";return line='<span class="'+className+'">'+(index+1)+"</span>"}});"Logo"==$.trim($(".slogan").text())&&(console.log(projectSwiperSlider),projectSwiperSlider=new Swiper("#project_swiper_slider__js",{slidesPerView:4,slidesPerColumn:2,spaceBetween:20,direction:"horizontal",speed:700,nextButton:"#project_swiper_slider__js .swiper-button-next",prevButton:"#project_swiper_slider__js .swiper-button-prev",pagination:"#project_swiper_slider__js .swiper-pagination",paginationClickable:!0,paginationBulletRender:function(index,className){var line="";return 0==index&&(countPagination=0),index%2==0&&(line='<span class="'+className+'">'+ ++countPagination+"</span>"),line}}));var reviewSettings={slidesPerView:4,spaceBetween:30,direction:"horizontal",loop:!1,speed:700,pagination:"#reviews_swiper_slider__js .swiper-pagination",nextButton:"#reviews_swiper_slider__js .swiper-button-next",prevButton:"#reviews_swiper_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(index,className){var line="";return line='<span class="'+className+'">'+(index+1)+"</span>"}},reviwesSwiperSlider=new Swiper("#reviews_swiper_slider__js",reviewSettings);new Swiper("#question_and_answer_swiper_slider__js",{slidesPerView:1,spaceBetween:30,direction:"horizontal",loop:!1,speed:700,pagination:"#question_and_answer_swiper_slider__js .swiper-pagination",nextButton:"#question_and_answer_swiper_slider__js .swiper-button-next",prevButton:"#question_and_answer_swiper_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(index,className){var line='<span class="'+className+'">'+ ++index+"</span>";return line}}),new Swiper("#blog_slider__js",{slidesPerView:1,spaceBetween:30,direction:"horizontal",loop:!1,speed:!1,pagination:"#blog_slider__js .swiper-pagination",nextButton:"#blog_slider__js .swiper-button-next",prevButton:"#blog_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(index,className){var line='<span class="'+className+'">'+ ++index+"</span>";return line}}),new Swiper("#partners_slider__js",{slidesPerView:1,spaceBetween:30,direction:"horizontal",loop:!1,speed:700,pagination:"#partners_slider__js .swiper-pagination",nextButton:"#partners_slider__js .swiper-button-next",prevButton:"#partners_slider__js .swiper-button-prev",paginationClickable:!0,paginationBulletRender:function(index,className){var line='<span class="'+className+'">'+ ++index+"</span>";return line}});$(".select_item_menu__js").find("a").on("click",function(event){event.preventDefault();var $th=$(this),refName=$th.attr("href");setHash(refName),goToHashSection("#"+refName,"down")});var initialHash=($(window).innerHeight(),"#section1");setHash(initialHash),goToHashSection(initialHash,"down"),$(document).on("mousewheel",function(e){if(!isModalActive){var hash=getHash();if(e.originalEvent.wheelDelta/120>0){var neededSection=getPrevSection(hash);goToHashSection("#"+neededSection,"up")}else{var neededSection=getNextSection(hash);goToHashSection("#"+neededSection,"down")}}}),detectswipe("bodyID",myfunction),$("#prev_section").on("click",function(){var hash=getHash(),neededSection=getPrevSection(hash);goToHashSection("#"+neededSection,"up")}),$("#next_section").on("click",function(){var hash=getHash(),neededSection=getNextSection(hash);goToHashSection("#"+neededSection,"down")}),$(".team_buttons").find(".swiper-button-prev").on("click",function(){mySwiper1.slideNext()}),$(".team_buttons").find(".swiper-button-next").on("click",function(){mySwiper1.slidePrev()}),$(".review_buttons").find(".swiper-button-prev").on("click",function(){mySwiper2.slideNext()}),$(".review_buttons").find(".swiper-button-next").on("click",function(){mySwiper2.slidePrev()});var mySwiper2=new Swiper("#review_slider",{slidesPerView:5,spaceBetween:30,direction:"horizontal",loop:!1});Page.init(),$("#dg-container").gallery({autoplay:!0,interval:3e3});var $dropdown;$(".swiper-block__js").hover(function(){$dropdown=$(this).find(".dropdown"),$dropdown.css("height","auto");var swiperBlockHeight=$dropdown.innerHeight();$dropdown.css("height","0"),$dropdown.animate({height:swiperBlockHeight},350)},function(){$dropdown.animate({height:0},350)}),sliderWidthChanging(),$("#map").length&&(setMap(),ymaps.ready(init)),$(window).resize(function(){sliderWidthChanging(),$("#map").length&&(setMap(),ymaps.ready(init))})});var Page=function(){var $navArrows=$("#nav-arrows").hide(),slicebox=$("#sb-slider").slicebox({onReady:function(){$navArrows.show()},orientation:"r",cuboidsRandom:!0,disperseFactor:30,autoplay:!0,interval:5e3}),init=function(){initEvents()},initEvents=function(){$navArrows.children(":first").on("click",function(){return slicebox.next(),!1}),$navArrows.children(":last").on("click",function(){return slicebox.previous(),!1})};return{init:init}}();
